<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Productivity Hub with Interactive Grid</title>
<link rel="stylesheet" href="Flowly.css"/>
</head>
<body>

<canvas id="bg-canvas"></canvas>

<!-- Top right control buttons -->
<div class="top-controls">
  <button id="settings-btn" class="icon-btn" title="Settings" aria-label="Settings">âš™ï¸</button>
  <button id="darkmode-btn" class="icon-btn" title="Dark Mode" aria-label="Dark Mode">ğŸŒ™</button>
</div>

<div class="main-content">
  <div class="top-tools" aria-label="Productivity tools">
    <button class="tool-btn" title="Habits" aria-label="Habits Tool">âœ…</button>
    <button class="tool-btn" title="Planner" aria-label="Planner Tool">ğŸ“</button>
    <button class="tool-btn" title="Project Manager" aria-label="Project Manager Tool">ğŸ“Š</button>
    <button class="tool-btn" title="Notes" aria-label="Notes Tool">ğŸ—’ï¸</button>
    <button class="tool-btn" title="Goals Tracker" aria-label="Goals Tracker Tool">ğŸ¯</button>
    <button class="tool-btn" title="Focus Timer" aria-label="Focus Timer Tool">â°</button>
    <button class="tool-btn" title="Distraction Blocker" aria-label="Distraction Blocker Tool">ğŸš«</button>
  </div>

  <div class="center-mark">Stay Productive! ğŸš€</div>
  <div id="dateDisplay">Loading date...</div>
  <div id="clock">--:--:--<span id="ampm"></span></div>
  <div class="quote" id="dailyQuote">"Your inspiring quote will appear here."</div>
</div>

<script>
const canvas = document.getElementById('bg-canvas');
const ctx = canvas.getContext('2d');

function resizeCanvas() {
  canvas.width = window.innerWidth;
  canvas.height = window.innerHeight;
}
resizeCanvas();
window.addEventListener('resize', resizeCanvas);

const gridSize = 40;
let mouseX = -1000;
let mouseY = -1000;

window.addEventListener('mousemove', e => {
  mouseX = e.clientX;
  mouseY = e.clientY;
});
window.addEventListener('mouseleave', () => {
  mouseX = -1000;
  mouseY = -1000;
});

function getColors() {
  if(document.body.classList.contains('darkmode')) {
    return {bg: "#212833", grid: "rgba(180,191,220,ALPHA)", gridBlob: "rgba(90,153,255,ALPHA)"};
  } else {
    return {bg: "#eef2f3", grid: "rgba(42,69,120,ALPHA)", gridBlob: "rgba(90,153,255,ALPHA)"};
  }
}

function drawGrid() {
  const colors = getColors();
  ctx.fillStyle = colors.bg;
  ctx.fillRect(0, 0, canvas.width, canvas.height);

  for(let y = 0; y < canvas.height; y += gridSize) {
    for(let x = 0; x < canvas.width; x += gridSize) {
      const centerX = x + gridSize / 2;
      const centerY = y + gridSize / 2;
      const dist = Math.hypot(mouseX - centerX, mouseY - centerY);

      const maxRadius = 160;
      let alpha = 0.15;
      if (dist < maxRadius) {
        alpha = 0.15 + (1 - dist / maxRadius) * 0.7;
        ctx.strokeStyle = colors.gridBlob.replace('ALPHA', alpha);
      } else {
        ctx.strokeStyle = colors.grid.replace('ALPHA', alpha);
      }

      ctx.lineWidth = 1.8;
      ctx.strokeRect(x, y, gridSize, gridSize);
    }
  }
}

function animate() {
  drawGrid();
  requestAnimationFrame(animate);
}
animate();

const darkBtn = document.getElementById('darkmode-btn');

darkBtn.addEventListener('click', () => {
  const isDark = document.body.classList.toggle('darkmode');
  
  // Rising animation
  darkBtn.classList.add('rise');
  setTimeout(() => darkBtn.classList.remove('rise'), 300);

  darkBtn.textContent = isDark ? 'â˜€ï¸' : 'ğŸŒ™';
});

const dateDisplay = document.getElementById('dateDisplay');
const clockDisplay = document.getElementById('clock');
const ampmDisplay = document.getElementById('ampm');
const quotes = [
  "Donâ€™t watch the clock; do what it does. Keep going.",
  "Success is not the key to happiness. Happiness is the key to success.",
  "Donâ€™t wait for opportunity. Create it.",
  "Small steps every day lead to big changes.",
  "Your limitationâ€”itâ€™s only your imagination.",
  "Push yourself, because no one else is going to do it for you.",
  "Great things never come from comfort zones.",
  "Dream it. Wish it. Do it.",
  "Success doesnâ€™t just find you. You have to go out and get it.",
  "Stay positive, work hard, make it happen.",
  "Wake up with determination. Go to bed with satisfaction.",
  "The secret of getting ahead is getting started.",
  "Failure is the condiment that gives success its flavor.",
  "Donâ€™t count the days, make the days count.",
  "Every day is a new beginning.",
  "Make each day count.",
  "Work hard in silence, let your success be your noise.",
  "The goal is not to be better than anyone else but to be better than you used to be.",
  "Great things never come from comfort zones.",
  "The key to success is to focus on goals, not obstacles."
];

document.getElementById('dailyQuote').textContent = quotes[Math.floor(Math.random() * quotes.length)];

function updateTime() {
  const now = new Date();
  dateDisplay.textContent = now.toLocaleDateString(undefined, {weekday: 'long', year: 'numeric', month: 'long', day: 'numeric'});

  let hour = now.getHours();
  let ampm = hour >= 12 ? 'PM' : 'AM';
  hour %= 12;
  hour = hour ? hour : 12;
  let minute = now.getMinutes().toString().padStart(2, '0');
  let second = now.getSeconds().toString().padStart(2, '0');

  clockDisplay.textContent = `${hour}:${minute}:${second}`;
  ampmDisplay.textContent = ampm;
}

updateTime();
setInterval(updateTime, 1000);
</script>

</body>
</html>
